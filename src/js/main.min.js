window.onload=function(e){(function(){var e=document.getElementById("grid");if(e){var t=new Masonry(e,{columnWidth:e.querySelectorAll("li")[1],percentPosition:!0,itemSelector:"li"});imagesLoaded(e,function(){t.layout()})}})(),function(){var e=document.querySelectorAll("iframe");if(e){var t=function(e){var t=e.getAttribute("width"),n=e.getAttribute("height"),r=e.offsetWidth,i=0;t!==r&&(i=n/t*r,e.style.height=i+"px")};window.addEventListener("resize",function(n){for(var r=0;r<e.length;r++)t(e[r])});for(var n=0;n<e.length;n++)t(e[n])}}()},document.addEventListener("DOMContentLoaded",function(e){(function(){var e=document.getElementById("gallery");if(e){var t=e.querySelectorAll("a");if(t){var n=function(e){var n=document.getElementById("gallery-view"),r=new Image,i=null,s=0;n===null&&(n=document.createElement("div"),n.setAttribute("id","gallery-view"),n.innerHTML+='<img class="hide" src="'+e+'">',n.innerHTML+='<div id="gallery-view-close"><div class="icon"></div></div>',n.innerHTML+='<div id="gallery-view-previous" class="hide"><div class="icon"></div></div>',n.innerHTML+='<div id="gallery-view-next" class="hide"><div class="icon"></div></div>',document.body.appendChild(n)),t.length>1&&(s=parseInt(e.dataset.key),document.getElementById("gallery-view-previous").classList[s>0?"remove":"add"]("hide"),document.getElementById("gallery-view-next").classList[s<t.length-1?"remove":"add"]("hide")),i=n.querySelector("img"),i.classList.add("hide"),r.src=e.getAttribute("href"),r.onload=function(){i.classList.remove("hide"),i.dataset.key=s,i.src=this.src}},r=function(){document.body.removeChild(document.getElementById("gallery-view"))},i=function(){var e=parseInt(document.getElementById("gallery-view").querySelector("img").dataset.key)-1;e>=0&&n(t[e])},s=function(){var e=parseInt(document.getElementById("gallery-view").querySelector("img").dataset.key)+1;e>=0&&n(t[e])};document.body.addEventListener("click",function(e){e.target.tagName==="DIV"&&(e.target.getAttribute("id")==="gallery-view-close"||e.target.parentNode.getAttribute("id")==="gallery-view-close"||e.target.getAttribute("id")==="gallery-view"?r():e.target.getAttribute("id")==="gallery-view-previous"||e.target.parentNode.getAttribute("id")==="gallery-view-previous"?i():(e.target.getAttribute("id")==="gallery-view-next"||e.target.parentNode.getAttribute("id")==="gallery-view-next")&&s())}),document.body.addEventListener("keydown",function(e){document.getElementById("gallery-view")&&(e.keyCode===27?r():e.keyCode===37?i():e.keyCode===39&&s())});for(var o=0;o<t.length;o++)t[o].dataset.key=o,t[o].addEventListener("click",function(e){return n(this),e.preventDefault(),!1})}}})()});
